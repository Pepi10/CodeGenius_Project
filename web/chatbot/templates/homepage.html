{% load static %}
<!doctype html>
<html>

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href= "{% static 'css/homepage.css' %}">

    <!--전체 css-->
    <style>
      body {  /*이미지로 대체*/
          margin: 0;
          padding: 0;
          display: flex;
          justify-content: center;
          align-items: flex-end;
          height: 100vh;
          background: url("{% static 'img/back.png' %}") no-repeat center center fixed;
          background-size: cover;
          position: relative;
          font-family: 'Audiowide', sans-serif;  /*전체 글씨체*/
      }

      .container {
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          width: 100%;
          height: 100%;  /*start 버튼*/
      }
    </style>

    <!--키워드박스 css-->
    <style>
      .keyword-box {
          width: 98%;
          height: 30%;
          background-color: none;  /*배경 이미지로 대체*/
          border-top-left-radius: 20px;
          border-top-right-radius: 20px;
          /*box-shadow: 0 -2px 10px rgba(0,0,0,0.1);*/
          display: flex;
          justify-content: space-around;
          align-items: center;
          position: relative;
          color: white;
      }
      .weekly-title {  /*키워드박스 제목위치*/
          position: absolute;
          top: -30px;
          left: 20px;
          font-size: 30px;
          font-weight: bold;
          color: white;
      }
      .keyword-item {
          text-align: center;
          animation: moveUpDown 1s infinite alternate;
      }
      .keyword-item img {
          width: 50px;
          height: 50px;
      }
      .keyword-item .rank {
          font-size: 18px;
          font-weight: bold;
      }
      .keyword-item .keyword {
          margin-top: 5px;
          font-size: 14px;
      }
      @keyframes moveUp {  /*아이콘 위아래로 움직이기*/
        0% {
            transform: translateY(0);
        }
        50% {
          transform: translateY(3px);
        }
        100% {
            transform: translateY(-3px);
        }
      }
      @keyframes moveDown {
          0% {
              transform: translateY(0);
          }
          50% {
            transform: translateY(-3px);
          }
          100% {
              transform: translateY(3px);
          }
      }
      .keyword-item:nth-child(odd) {
          animation: moveUp 3s infinite alternate;
      }
      .keyword-item:nth-child(even) {
          animation: moveDown 3s infinite alternate;
      }
    </style>

    <!--버튼 css (임시)-->
    <style>
      .button_container {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 100%;
        position: absolute;  /* 부모 요소 기준으로 절대 위치 지정 */
        top: 50%;  /* 수직 중앙에 배치 */
        left: 51%;  /* 수평 중앙에 배치 */
        transform: translate(-50%, -50%);  /* 정확히 중앙에 위치시키기 위한 변환 */
      }
      .button {
        padding: 30px 60px;
        font-size: 32px;
        cursor: pointer;
        background-color: #bf8690;
        color: white;
        border: none;
        border-radius: 10px;
        margin-top: 20px;
      }
      .button:hover {
        background-color: #7c4646;
        }

    </style>

    <style>
      .rocket {  /*로켓이미지 위치*/
          position: absolute;
          right: 100px;
          top: 50%;
          transform: translateY(-50%);
      }
      .rocket img {
          width: 100px;
          height: 100px;
          transition: transform 1s ease-in-out;
      }
      .rocket img.move-up {
          transform: translateY(-100vh);
      }
    </style>


</head>
<body>

    <!--키워드박스 생성-->
    <div class="keyword-box">
        <div class="weekly-title">Weekly Keyword</div>
        <!--script src="{% static '/js/keyword_box.js' %}"></script-->
    </div> 

    <script>
        const keywords = ["JavaScript", "Python", "HTML", "CSS", "React", "Node.js", "Django"];
        const keywordBox = document.querySelector('.keyword-box');

        keywords.forEach((keyword, index) => {
            const keywordItem = document.createElement('div');
            keywordItem.className = 'keyword-item';

            const rank = document.createElement('div');
            rank.className = 'rank';
            rank.innerText = index + 1;

            const icon = document.createElement('img');
            icon.src = `{% static 'img/icon${index + 1}.png' %}`; // 아이콘 파일 경로는 적절히 수정

            const keywordText = document.createElement('div');
            keywordText.className = 'keyword';
            keywordText.innerText = keyword;

            keywordItem.appendChild(rank);
            keywordItem.appendChild(icon);
            keywordItem.appendChild(keywordText);

            keywordBox.appendChild(keywordItem);
        });
    </script>


    <!--start버튼 생성 (임시)--> 
    <div class="button_container">
      <button class="button" onclick="animateAndRedirect()">start</button>
    </div>

    <!--로켓이미지 생성-->
    <div class="rocket">
        <img src="{% static 'img/rocket.png' %}" alt="Image">
    </div>

    <!--script src="{% static '/js/start_button.js' %}"></script-->
    <script>
      function animateAndRedirect() {
          const image = document.querySelector('.rocket img');
          image.classList.add('move-up');
          setTimeout(() => {
              window.location.href = "{% url 'chatting' %}";
          }, 1000); // 1초간 로켓 이동 후 채팅페이지로 이동
      }
  </script>
</body>
</html>